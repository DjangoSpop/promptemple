# PromptCraft Environment Configuration
# Copy this to .env and fill in your actual values

# =============================================================================
# Django Core Settings
# =============================================================================
SECRET_KEY=your-super-secret-django-key-here-change-this
DEBUG=False
ENVIRONMENT=production
ALLOWED_HOSTS=localhost,127.0.0.1,www.prompt-temple.com,prompt-temple.com

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=sqlite:///db.sqlite3
# For PostgreSQL: DATABASE_URL=postgresql://user:password@localhost:5432/promptcraft
# For MySQL: DATABASE_URL=mysql://user:password@localhost:3306/promptcraft

# =============================================================================
# Redis Configuration (Required for WebSocket)
# =============================================================================
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/2
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CHANNEL_LAYER_SECRET=your-channel-layer-secret-key

# =============================================================================
# AI Provider Configuration (DeepSeek - Budget Friendly!)
# =============================================================================
# DeepSeek API (Primary recommendation - very cost effective)
DEEPSEEK_API_KEY=sk-e2b0d6d2de3a4850bfc21ebd4a671af8
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_DEFAULT_MODEL=deepseek-chat
DEEPSEEK_CODER_MODEL=deepseek-coder

# OpenAI API (Fallback option - more expensive)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic API (Alternative option)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# AI Configuration
AI_PROVIDER_PRIORITY=deepseek,openai,anthropic
ENABLE_AI_FALLBACK=True
AI_REQUEST_TIMEOUT=30
AI_MAX_RETRIES=3
AI_RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# Search and Embedding Configuration
# =============================================================================
EMBEDDING_MODEL=all-MiniLM-L6-v2
SIMILARITY_THRESHOLD=0.7
MAX_SEARCH_RESULTS=20
ENABLE_VECTOR_SEARCH=True
SEARCH_BATCH_SIZE=100
INDEX_UPDATE_FREQUENCY=3600

# =============================================================================
# Error Monitoring (Sentry)
# =============================================================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
APP_VERSION=1.0.0

# =============================================================================
# Security Settings (Production)
# =============================================================================
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
CSRF_TRUSTED_ORIGINS=https://prompt-temple.com,https://www.prompt-temple.com
CORS_ALLOWED_ORIGINS=https://prompt-temple.com,https://www.prompt-temple.com

# =============================================================================
# SSL Configuration (if using HTTPS)
# =============================================================================
SSL_CERT_PATH=/path/to/ssl/certificate.pem
SSL_KEY_PATH=/path/to/ssl/private.key

# =============================================================================
# Performance Settings
# =============================================================================
# Cache settings
CACHE_TIMEOUT=300
SEARCH_CACHE_TIMEOUT=600

# WebSocket settings
WEBSOCKET_TIMEOUT=86400
WEBSOCKET_CONNECT_TIMEOUT=10

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_ANALYTICS=True
ENABLE_GAMIFICATION=True
ENABLE_REAL_TIME_SEARCH=True
ENABLE_AI_OPTIMIZATION=True
REINDEX_ON_STARTUP=False

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO
LOG_TO_FILE=True
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# WebSocket Configuration
# =============================================================================
# WebSocket URL for frontend (Next.js)
NEXT_PUBLIC_WS_URL=ws://localhost:8000
WEBSOCKET_URL=ws://localhost:8000

# =============================================================================
# Social Authentication Configuration
# =============================================================================

# Google OAuth2 Configuration
# Get these from: https://console.developers.google.com/
# 1. Create a new project or select existing
# 2. Enable Google+ API
# 3. Create OAuth 2.0 credentials
# 4. Add your domain to authorized origins
# 5. Add callback URLs to authorized redirect URIs
GOOGLE_OAUTH2_CLIENT_ID=your-google-oauth2-client-id
GOOGLE_OAUTH2_CLIENT_SECRET=your-google-oauth2-client-secret

# GitHub OAuth Configuration
# Get these from: https://github.com/settings/applications/new
# 1. Go to GitHub Settings > Developer settings > OAuth Apps
# 2. Click "New OAuth App"
# 3. Set Authorization callback URL to your domain + /auth/callback/github
GITHUB_CLIENT_ID=your-github-oauth-client-id
GITHUB_CLIENT_SECRET=your-github-oauth-client-secret

# Social Authentication Redirect URIs (adjust for your domain)
SOCIAL_AUTH_GOOGLE_REDIRECT_URI=https://yourdomain.com/auth/callback/google
SOCIAL_AUTH_GITHUB_REDIRECT_URI=https://yourdomain.com/auth/callback/github

# =============================================================================
# Development Settings (set DEBUG=True for development)
# =============================================================================
# Uncomment for development:
# DEBUG=True
# ALLOWED_HOSTS=*
# CORS_ALLOW_ALL_ORIGINS=True
# SOCIAL_AUTH_GOOGLE_REDIRECT_URI=http://localhost:3000/auth/callback/google
# SOCIAL_AUTH_GITHUB_REDIRECT_URI=http://localhost:3000/auth/callback/github

# =============================================================================
# Research Agent Configuration
# =============================================================================

# Tavily search integration (for research agent)
TAVILY_API_KEY=your-tavily-api-key-here
TAVILY_SEARCH_DEPTH=basic
TAVILY_MAX_RESULTS=5

# Research Agent Settings
RESEARCH_SEARCH_PROVIDER=tavily
RESEARCH_SEARCH_TOP_K=8
RESEARCH_MAX_PAGES=12
RESEARCH_FETCH_TIMEOUT=15
RESEARCH_MAX_TOKENS_PER_CHUNK=800
RESEARCH_CHUNK_OVERLAP_TOKENS=120
RESEARCH_MIN_AUTHORITY_SCORE=0.6
RESEARCH_MIN_CONFIDENCE_SCORE=0.5
RESEARCH_MAX_CARDS_PER_DOMAIN=2
RESEARCH_ENABLE_QUALITY_GUARDS=True
RESEARCH_ENABLE_DOMAIN_CLUSTERING=True
